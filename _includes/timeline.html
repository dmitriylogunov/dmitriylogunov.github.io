<section class="timeline">
    {% for item in include.data %}
    {% include timeline-item.html item=item %}
    {% endfor %}
</section>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        if (window.matchMedia("(max-width: 600px)").matches) {
            document.querySelectorAll('.timeline-inline').forEach(function (item) {
                item.addEventListener('click', function (event) {
                    event.preventDefault();
                    const overlay = item.parentElement.querySelector('.overlay');
                    if (overlay) {
                        overlay.classList.add('visible');
                    }
                });
            });
        }

        document.querySelectorAll('.overlay .close-button').forEach(function (button) {
            button.addEventListener('click', function (event) {
                event.stopPropagation();
                const overlay = button.closest('.overlay');
                if (overlay) {
                    overlay.classList.remove('visible');
                }
            });
        });

        // document.querySelectorAll('.overlay').forEach(function (overlay) {
        //     overlay.addEventListener('click', function (event) {
        //         if (event.target === event.currentTarget) {
        //             event.stopPropagation();
        //             event.currentTarget.style.display = 'none';
        //         }
        //     });
        // });
    });
</script>